\doxysection{lib.\+c}
\label{lib_8c_source}\index{C:/Users/Areal/Documents/GitHub/CProjects/EDA/PFase2/lib/lib.c@{C:/Users/Areal/Documents/GitHub/CProjects/EDA/PFase2/lib/lib.c}}
\textbf{ Ir para a documentação deste ficheiro.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}lib.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}lib\_aux.h"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keywordtype}{int}\ add\_aresta(Vertice\ *v1,\ Vertice\ *v2,\ \textcolor{keywordtype}{int}\ peso)\ \{}
\DoxyCodeLine{00016\ \ \ \ \ Aresta\ *nova\_aresta\ =\ (Aresta*)malloc(\textcolor{keyword}{sizeof}(Aresta));}
\DoxyCodeLine{00017\ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nova\_aresta\ ==\ NULL)\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ a\ alocação\ de\ memória\ falhar,\ retorna\ 1\ (falha)}}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00020\ \ \ \ \ \}}
\DoxyCodeLine{00021\ \ \ \ \ nova\_aresta-\/>destino\ =\ v2;}
\DoxyCodeLine{00022\ \ \ \ \ nova\_aresta-\/>peso\ =\ peso;}
\DoxyCodeLine{00023\ \ \ \ \ nova\_aresta-\/>proxima\ =\ v1-\/>arestas;\ \textcolor{comment}{//\ Aponta\ para\ a\ primeira\ aresta\ da\ lista\ atual}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{comment}{//\ A\ nova\ aresta\ fica\ a\ primeira\ da\ lista}}
\DoxyCodeLine{00026\ \ \ \ \ v1-\/>arestas\ =\ nova\_aresta;}
\DoxyCodeLine{00027\ \ \ \ \ v1-\/>num\_arestas++;}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keywordtype}{int}\ rem\_aresta(GR\ *grafo,\ \textcolor{keywordtype}{int}\ index\_origem,\ \textcolor{keywordtype}{int}\ index\_destino)\ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{if}\ (grafo\ ==\ NULL\ ||\ index\_origem\ <\ 0\ ||\ index\_origem\ >=\ grafo-\/>num\_vertices\ ||}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ index\_destino\ <\ 0\ ||\ index\_destino\ >=\ grafo-\/>num\_vertices)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{comment}{//printf("{}Vértices\ inválidos.\(\backslash\)n"{});}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/11;}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ Vertice\ *origem\ =\ \&(grafo-\/>vertices[index\_origem]);}
\DoxyCodeLine{00041\ \ \ \ \ Vertice\ *destino\ =\ \&(grafo-\/>vertices[index\_destino]);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{comment}{//\ Procurar\ a\ aresta\ no\ vértice\ de\ origem}}
\DoxyCodeLine{00044\ \ \ \ \ Aresta\ *anterior\ =\ NULL;}
\DoxyCodeLine{00045\ \ \ \ \ Aresta\ *atual\ =\ origem-\/>arestas;}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{while}\ (atual\ !=\ NULL)\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (atual-\/>destino\ ==\ destino)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ aresta\ foi\ encontrada,\ removê-\/la}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ a\ aresta\ a\ ser\ removida\ é\ a\ primeira\ da\ lista}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (anterior\ ==\ NULL)\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ origem-\/>arestas\ =\ atual-\/>proxima;}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ a\ aresta\ a\ ser\ removida\ não\ é\ a\ primeira\ da\ lista}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ anterior-\/>proxima\ =\ atual-\/>proxima;}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ free(atual);\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ anterior\ =\ atual;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ atual\ =\ atual-\/>proxima;}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Se\ não\ encontrar\ a\ aresta}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//printf("{}Erro:\ Não\ foi\ encontrada\ uma\ aresta\ entre\ os\ vértices\ especificados.\(\backslash\)n"{});}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/12;}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ GR*\ criar\_grafo(\textcolor{keywordtype}{int}\ num\_vertices)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ GR\ *grafo\ =\ (GR*)malloc(\textcolor{keyword}{sizeof}(GR));}
\DoxyCodeLine{00072\ \ \ \ \ grafo-\/>vertices\ =\ (Vertice*)malloc(num\_vertices\ *\ \textcolor{keyword}{sizeof}(Vertice));}
\DoxyCodeLine{00073\ \ \ \ \ grafo-\/>num\_vertices\ =\ num\_vertices;}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{//\ Inicialização\ de\ cada\ vértice}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_vertices;\ i++)\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ grafo-\/>vertices[i]\ =\ *criar\_vertice(i);}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{return}\ grafo;}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ GR*\ carrega\_fich(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *nomefich)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ FILE\ *file\ =\ fopen(nomefich,\ \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{if}\ (file\ ==\ NULL)\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00088\ \ \ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{int}\ max\_linhas\ =\ 0;}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{int}\ max\_colunas\ =\ 0;}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keywordtype}{char}\ linha[256];}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Conta\ o\ número\ de\ linhas\ e\ o\ número\ máximo\ de\ colunas}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{while}\ (fgets(linha,\ \textcolor{keyword}{sizeof}(linha),\ file))\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *token\ =\ strtok(linha,\ \textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ col\ =\ 0;\ \textcolor{comment}{//\ índice\ da\ coluna}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (token\ !=\ NULL)\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(token,\ \textcolor{stringliteral}{"{}\ "{}})\ !=\ 0)\ \{\ \textcolor{comment}{//\ Ignora\ os\ valores\ vazios\ ou\ nulos}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col++;\ \textcolor{comment}{//Incrementa\ colunas}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ token\ =\ strtok(NULL,\ \textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ max\_linhas++;\ \textcolor{comment}{//\ Incrementa\ linhas\ }}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (col\ >\ max\_colunas)\ \{}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ max\_colunas\ =\ col;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ rewind(file);\ \textcolor{comment}{//\ Volta\ ao\ início}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ Determina\ o\ tamanho\ do\ grafo\ com\ base\ no\ maior\ número\ de\ linhas\ ou\ colunas}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordtype}{int}\ tamanho\_grafo\ =\ (max\_linhas\ >\ max\_colunas)\ ?\ max\_linhas\ :\ max\_colunas;}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ Cria\ o\ grafo\ com\ o\ tamanho\ determinado}}
\DoxyCodeLine{00116\ \ \ \ \ GR\ *grafo\ =\ criar\_grafo(tamanho\_grafo);}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{int}\ lin\ =\ 0;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{while}\ (fgets(linha,\ \textcolor{keyword}{sizeof}(linha),\ file))\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *token\ =\ strtok(linha,\ \textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ col\ =\ 0;\ \textcolor{comment}{//\ índice\ da\ coluna}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (token\ !=\ NULL)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(token,\ \textcolor{stringliteral}{"{}\ "{}})\ !=\ 0)\ \{\ \textcolor{comment}{//\ Ignora\ os\ valores\ vazios\ ou\ nulos}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ valor\ =\ atoi(token);}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(valor\ !=\ 0)\{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ add\_aresta(\&(grafo-\/>vertices[lin]),\ \&(grafo-\/>vertices[col]),\ valor);}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ col++;\ \textcolor{comment}{//\ Incrementa\ o\ índice\ da\ coluna}}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ token\ =\ strtok(NULL,\ \textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ o\ número\ de\ colunas\ for\ menor\ que\ o\ máximo,\ não\ é\ necessário\ adicionar\ arestas\ vazias}}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ para\ os\ vértices\ restantes,\ pois\ as\ arestas\ já\ estão\ inicializadas\ como\ NULL}}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ lin++;}
\DoxyCodeLine{00135\ \ \ \ \ \}}
\DoxyCodeLine{00136\ \ \ \ \ fclose(file);}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{return}\ grafo;}
\DoxyCodeLine{00138\ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \textcolor{keywordtype}{int}\ alterar\_peso(GR\ *grafo,\ \textcolor{keywordtype}{int}\ index\_origem,\ \textcolor{keywordtype}{int}\ index\_destino,\ \textcolor{keywordtype}{int}\ novo\_peso)\ \{}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\_origem\ <\ 0\ ||\ index\_origem\ >=\ grafo-\/>num\_vertices\ ||\ index\_destino\ <\ 0\ ||\ index\_destino\ >=\ grafo-\/>num\_vertices)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{comment}{//printf("{}Erro:\ Vértice\ inválidos.\(\backslash\)n"{});}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/31;}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ Vertice\ *v\_origem\ =\ \&(grafo-\/>vertices[index\_origem]);}
\DoxyCodeLine{00149\ \ \ \ \ Vertice\ *v\_destino\ =\ \&(grafo-\/>vertices[index\_destino]);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{for}\ (Aresta\ *a\ =\ v\_origem-\/>arestas;\ a\ !=\ NULL;\ a\ =\ a-\/>proxima)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ a\ aresta\ se\ conectar\ ao\ vértice\ de\ destino,\ atualiza\ o\ peso}}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (a-\/>destino\ ==\ v\_destino)\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ a-\/>peso\ =\ novo\_peso;}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ Se\ não\ encontrar\ a\ aresta}}
\DoxyCodeLine{00160\ \ \ \ \ printf(\textcolor{stringliteral}{"{}Erro:\ Não\ foi\ encontrada\ uma\ aresta\ entre\ os\ vértices\ especificados.\(\backslash\)n"{}});}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ -\/32;}
\DoxyCodeLine{00162\ \}}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{keywordtype}{int}\ soma\_pesos\_caminho(GR\ *grafo,\ \textcolor{keywordtype}{int}\ *caminho\ ,\textcolor{keywordtype}{int}\ tamanho\_caminho)\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordtype}{int}\ soma\_pesos\ =\ 0;}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{comment}{//\ Verifica\ se\ o\ caminho\ é\ válido}}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{if}\ (caminho\ ==\ NULL\ ||\ tamanho\_caminho\ <=\ 0)\ \{}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{comment}{//printf("{}Caminho\ inválido.\(\backslash\)n"{});}}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/41;}
\DoxyCodeLine{00172\ \ \ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Itera\ sobre\ os\ vértices\ no\ caminho}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ tamanho\_caminho\ -\/\ 1;\ i++)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Verifica\ se\ o\ índice\ do\ vértice\ está\ dentro\ dos\ limites\ do\ grafo}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (caminho[i]\ <\ 0\ ||\ caminho[i]\ >=\ grafo-\/>num\_vertices\ ||\ caminho[i\ +\ 1]\ <\ 0\ ||\ caminho[i\ +\ 1]\ >=\ grafo-\/>num\_vertices)\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//printf("{}Vértice\ inválido\ no\ caminho.\(\backslash\)n"{});}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/42;}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Procura\ a\ aresta\ entre\ os\ vértices}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ Vertice\ *v\_atual=\ \&(grafo-\/>vertices[caminho[i]]);}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ Vertice\ *v\_prox\ =\ \&(grafo-\/>vertices[caminho[i\ +\ 1]]);}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ Aresta\ *aresta\ =\ v\_atual-\/>arestas;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Procura\ a\ aresta\ que\ conecta\ os\ vértices}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (aresta\ !=\ NULL)\ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aresta-\/>destino\ ==\ v\_prox)\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Adiciona\ o\ peso\ da\ aresta\ ao\ sumatório\ dos\ pesos}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ soma\_pesos\ +=\ aresta-\/>peso;}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};\ \textcolor{comment}{//Encontrou\ a\ aresta}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Passa\ para\ a\ próxima\ aresta}}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ aresta\ =\ aresta-\/>proxima;}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Se\ não\ encontrar\ a\ aresta\ que\ conecta\ os\ vértices}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (aresta\ ==\ NULL)\ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//printf("{}Erro:\ Não\ foi\ encontrada\ uma\ aresta\ entre\ os\ vértices\ \%d\ e\ \%d.\(\backslash\)n"{},\ caminho[i],\ caminho[i\ +\ 1]);}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/43;}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00204\ \ \ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{return}\ soma\_pesos;}
\DoxyCodeLine{00207\ \}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{keywordtype}{int}\ encontrar\_maior\_soma\_caminho(GR\ *grafo)\ \{}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{comment}{//\ Variáveis\ para\ armazenar\ a\ maior\ soma\ e\ a\ lista\ de\ melhores\ caminhos}}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordtype}{int}\ maior\_soma\ =\ INT\_MIN;\ \textcolor{comment}{//\ Inicializa\ com\ o\ menor\ valor\ possível\ de\ um\ inteiro}}
\DoxyCodeLine{00213\ \ \ \ \ Caminho\ *melhores\_caminhos\ =\ NULL;}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{comment}{//\ Itera\ sobre\ todos\ os\ vértices}}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ grafo-\/>num\_vertices;\ i++)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Array\ para\ marcar\ os\ vértices\ visitados\ durante\ a\ pesquisa}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ *visitados\ =\ (\textcolor{keywordtype}{int}\ *)malloc(grafo-\/>num\_vertices\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ memset(visitados,\ 0,\ grafo-\/>num\_vertices\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Array\ para\ armazenar\ o\ caminho\ atual\ durante\ a\ pesquisa}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ *caminho\_atual\ =\ (\textcolor{keywordtype}{int}\ *)malloc(grafo-\/>num\_vertices\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Realiza\ a\ busca\ em\ profundidade\ (DFS)\ a\ partir\ do\ vértice\ atual}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ dfs(\&(grafo-\/>vertices[i]),\ -\/1,\ visitados,\ caminho\_atual,\ 0,\ \&maior\_soma,\ \&melhores\_caminhos,\ grafo);}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Liberta\ a\ memória\ alocada\ para\ os\ vetores}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ free(visitados);}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ free(caminho\_atual);}
\DoxyCodeLine{00230\ \ \ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{comment}{//\ Mostra\ a\ maior\ soma\ encontrada\ e\ os\ caminhos\ correspondentes}}
\DoxyCodeLine{00233\ \ \ \ \ printf(\textcolor{stringliteral}{"{}Caminhos:\(\backslash\)n"{}});}
\DoxyCodeLine{00234\ \ \ \ \ Caminho\ *caminho\ =\ melhores\_caminhos;}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keywordflow}{while}\ (caminho\ !=\ NULL)\ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ caminho-\/>tamanho;\ i++)\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}V\%d"{}},\ caminho-\/>vertices[i]\ +\ 1);\ \textcolor{comment}{//\ Vértices\ numerados\ de\ 1\ a\ n}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ <\ caminho-\/>tamanho\ -\/\ 1)\ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\ -\/>\ "{}});}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ caminho\ =\ caminho-\/>proximo;}
\DoxyCodeLine{00244\ \ \ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \textcolor{keywordflow}{if}\ (melhores\_caminhos\ ==\ NULL)\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Nenhum\ caminho\ encontrado.\(\backslash\)n"{}});}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/44;}
\DoxyCodeLine{00249\ \ \ \ \ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{comment}{//\ Libera\ a\ memória\ alocada\ para\ os\ caminhos}}
\DoxyCodeLine{00252\ \ \ \ \ limpar\_caminhos(melhores\_caminhos);}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordflow}{return}\ maior\_soma;}
\DoxyCodeLine{00254\ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \textcolor{keywordtype}{void}\ dfs(Vertice\ *v,\ \textcolor{keywordtype}{int}\ destino,\ \textcolor{keywordtype}{int}\ *visitados,\ \textcolor{keywordtype}{int}\ *caminho,\ \textcolor{keywordtype}{int}\ nivel,\ \textcolor{keywordtype}{int}\ *maior\_soma,\ Caminho\ **melhores\_caminhos,\ GR\ *grafo)\ \{}
\DoxyCodeLine{00258\ \ \ \ \ visitados[v-\/>valor]\ =\ 1;}
\DoxyCodeLine{00259\ \ \ \ \ caminho[nivel]\ =\ v-\/>valor;}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordflow}{if}\ (nivel\ >\ 0)\ \{}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ soma\_caminho\ =\ soma\_pesos\_caminho(grafo,\ caminho,\ nivel\ +\ 1);}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (soma\_caminho\ >\ *maior\_soma)\ \{}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Atualiza\ a\ maior\ soma\ e\ limpa\ a\ lista\ de\ melhores\ caminhos}}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ *maior\_soma\ =\ soma\_caminho;}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ limpar\_caminhos(*melhores\_caminhos);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ *melhores\_caminhos\ =\ NULL;}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ adicionar\_caminho(melhores\_caminhos,\ caminho,\ nivel\ +\ 1);}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (soma\_caminho\ ==\ *maior\_soma)\ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Adiciona\ o\ novo\ caminho\ à\ lista\ de\ melhores\ caminhos}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ adicionar\_caminho(melhores\_caminhos,\ caminho,\ nivel\ +\ 1);}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ \ \ \ \ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ Aresta\ *aresta\ =\ v-\/>arestas;}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordflow}{while}\ (aresta\ !=\ NULL)\ \{}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!visitados[aresta-\/>destino-\/>valor])\ \{}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ dfs(aresta-\/>destino,\ destino,\ visitados,\ caminho,\ nivel\ +\ 1,\ maior\_soma,\ melhores\_caminhos,\ grafo);}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ aresta\ =\ aresta-\/>proxima;}
\DoxyCodeLine{00281\ \ \ \ \ \}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{comment}{//\ Reseta\ o\ vértice\ atual\ após\ a\ visita}}
\DoxyCodeLine{00284\ \ \ \ \ visitados[v-\/>valor]\ =\ 0;}
\DoxyCodeLine{00285\ \}}
\DoxyCodeLine{00286\ }

\end{DoxyCode}
